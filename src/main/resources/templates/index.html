<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="head">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta charset="utf-8" />
        <title>Dashboard - Ace Admin</title>

        <meta name="description" content="overview &amp; stats" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
    </head>
    <body>
        <div id="app">
            <button @click="hello">Create User</button>

            <div v-if="showResponse"><h6>User created with Id: {{ user }}</h6></div>
        </div>
        
        
        
        <script >
        var app = new Vue({
        	el: "#app",
        	data () {
        	      return {
        	        response: [],
        	        errors: [],
        	        user: {
        	          name: '',
        	          id: 0
        	        },
        	        showResponse: false,
        	        retrievedUser: {},
        	        showRetrievedUser: false
        	      }
        	    },
        	    methods: {
        	        // Fetches posts when the component is created.
        	        hello () {

        	          axios.get("/hello").then(response => {
        	              // JSON responses are automatically parsed.
        	              this.response = response.data;
        	              this.user = response.data;
        	              console.log('Created new User with Id ' + response);
        	              console.log('2 ' + this.user.id);
        	              this.showResponse = true
        	            })
        	            .catch(e => {
        	              this.errors.push(e)
        	            })
        	        }
        	      }
        })
        </script>
    </body>
</html>
